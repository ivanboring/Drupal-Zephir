[ { "type": "namespace", "name": "Drupal", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 3, "char": 5 }, { "type": "class", "name": "Common", "abstract": 0, "final": 1, "definition": { "methods": [ { "visibility": [ "public", "static", "final" ], "type": "method", "name": "drupal_add_region_content", "parameters": [ { "type": "parameter", "name": "region", "const": 0, "data-type": "string", "mandatory": 0, "default": { "type": "null", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 21, "char": 77 }, "reference": 0, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 21, "char": 77 }, { "type": "parameter", "name": "data", "const": 0, "data-type": "variable", "mandatory": 0, "default": { "type": "null", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 21, "char": 94 }, "reference": 0, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 21, "char": 94 }, { "type": "parameter", "name": "content", "const": 0, "data-type": "array", "mandatory": 0, "reference": 0, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 21, "char": 109 } ], "statements": [ { "type": "if", "expr": { "type": "and", "left": { "type": "not", "left": { "type": "empty", "left": { "type": "variable", "value": "region", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 22, "char": 21 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 22, "char": 21 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 22, "char": 21 }, "right": { "type": "not", "left": { "type": "empty", "left": { "type": "variable", "value": "data", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 22, "char": 35 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 22, "char": 35 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 22, "char": 35 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 22, "char": 35 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "array-index", "operator": "assign", "variable": "content", "index-expr": [ { "type": "variable", "value": "region", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 23, "char": 22 } ], "expr": { "type": "variable", "value": "data", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 23, "char": 30 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 23, "char": 30 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 24, "char": 3 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 25, "char": 8 }, { "type": "return", "expr": { "type": "variable", "value": "content", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 25, "char": 17 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 26, "char": 2 } ], "docblock": "*\n    public drupal_static_data = null;\n    public drupal_static_default = null;\n    private static instance;\n\n    public static final function getInstance() {\n        if self::instance == null {\n            let self::instance = new self;\n        }\n\n        return self::instance;\n    }\n\n\t\/*\n\t * Around 40% slower than core, not implemented\n\t *", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 21, "char": 29 }, { "visibility": [ "public", "static", "final" ], "type": "method", "name": "drupal_get_region_content", "parameters": [ { "type": "parameter", "name": "region", "const": 0, "data-type": "string", "mandatory": 0, "default": { "type": "null", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 31, "char": 77 }, "reference": 0, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 31, "char": 77 }, { "type": "parameter", "name": "delimiter", "const": 0, "data-type": "string", "mandatory": 0, "default": { "type": "string", "value": " ", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 31, "char": 101 }, "reference": 0, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 31, "char": 101 }, { "type": "parameter", "name": "content", "const": 0, "data-type": "array", "mandatory": 0, "reference": 0, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 31, "char": 116 } ], "statements": [ { "type": "declare", "data-type": "variable", "variables": [ { "variable": "tempregion", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 32, "char": 17 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 34, "char": 4 }, { "type": "if", "expr": { "type": "not", "left": { "type": "empty", "left": { "type": "variable", "value": "region", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 34, "char": 20 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 34, "char": 20 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 34, "char": 20 }, "statements": [ { "type": "if", "expr": { "type": "and", "left": { "type": "isset", "left": { "type": "array-access", "left": { "type": "variable", "value": "content", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 35, "char": 20 }, "right": { "type": "variable", "value": "region", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 35, "char": 27 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 35, "char": 30 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 35, "char": 30 }, "right": { "type": "fcall", "name": "is_array", "call-type": 1, "parameters": [ { "parameter": { "type": "array-access", "left": { "type": "variable", "value": "content", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 35, "char": 48 }, "right": { "type": "variable", "value": "region", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 35, "char": 55 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 35, "char": 56 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 35, "char": 56 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 35, "char": 58 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 35, "char": 58 }, "statements": [ { "type": "return", "expr": { "type": "fcall", "name": "implode", "call-type": 1, "parameters": [ { "parameter": { "type": "variable", "value": "delimiter", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 36, "char": 29 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 36, "char": 29 }, { "parameter": { "type": "array-access", "left": { "type": "variable", "value": "content", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 36, "char": 38 }, "right": { "type": "variable", "value": "region", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 36, "char": 45 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 36, "char": 46 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 36, "char": 46 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 36, "char": 47 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 37, "char": 4 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 38, "char": 3 } ], "else_statements": [ { "type": "for", "expr": { "type": "fcall", "name": "array_keys", "call-type": 1, "parameters": [ { "parameter": { "type": "variable", "value": "content", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 40, "char": 40 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 40, "char": 40 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 40, "char": 42 }, "value": "tempregion", "reverse": 0, "statements": [ { "type": "if", "expr": { "type": "fcall", "name": "is_array", "call-type": 1, "parameters": [ { "parameter": { "type": "array-access", "left": { "type": "variable", "value": "content", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 41, "char": 24 }, "right": { "type": "variable", "value": "tempregion", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 41, "char": 35 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 41, "char": 36 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 41, "char": 36 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 41, "char": 38 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "array-index", "operator": "assign", "variable": "content", "index-expr": [ { "type": "variable", "value": "tempregion", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 42, "char": 28 } ], "expr": { "type": "fcall", "name": "implode", "call-type": 1, "parameters": [ { "parameter": { "type": "variable", "value": "delimiter", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 42, "char": 49 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 42, "char": 49 }, { "parameter": { "type": "array-access", "left": { "type": "variable", "value": "content", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 42, "char": 58 }, "right": { "type": "variable", "value": "tempregion", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 42, "char": 69 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 42, "char": 70 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 42, "char": 70 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 42, "char": 71 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 42, "char": 71 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 43, "char": 5 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 44, "char": 4 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 45, "char": 3 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 46, "char": 8 }, { "type": "return", "expr": { "type": "variable", "value": "content", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 46, "char": 17 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 47, "char": 2 } ], "docblock": "*\n\t * Around 40% slower than core, not implemented\n\t *", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 31, "char": 29 }, { "visibility": [ "public", "static", "final" ], "type": "method", "name": "drupal_get_query_parameters", "parameters": [ { "type": "parameter", "name": "query", "const": 0, "data-type": "array", "mandatory": 0, "default": { "type": "null", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 52, "char": 77 }, "reference": 0, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 52, "char": 77 }, { "type": "parameter", "name": "exclude", "const": 0, "data-type": "array", "mandatory": 0, "default": { "type": "array", "left": [ { "value": { "type": "string", "value": "q", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 52, "char": 99 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 52, "char": 99 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 52, "char": 100 }, "reference": 0, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 52, "char": 100 }, { "type": "parameter", "name": "parent", "const": 0, "data-type": "variable", "mandatory": 0, "default": { "type": "string", "value": "", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 52, "char": 113 }, "reference": 0, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 52, "char": 113 }, { "type": "parameter", "name": "getarray", "const": 0, "data-type": "array", "mandatory": 0, "default": { "type": "empty-array", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 52, "char": 134 }, "reference": 0, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 52, "char": 134 } ], "statements": [ { "type": "declare", "data-type": "variable", "variables": [ { "variable": "key", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 54, "char": 10 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 55, "char": 5 }, { "type": "declare", "data-type": "variable", "variables": [ { "variable": "value", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 55, "char": 12 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 56, "char": 8 }, { "type": "declare", "data-type": "string", "variables": [ { "variable": "string_key", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 56, "char": 20 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 58, "char": 4 }, { "type": "if", "expr": { "type": "empty", "left": { "type": "variable", "value": "query", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 58, "char": 18 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 58, "char": 18 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "query", "expr": { "type": "variable", "value": "getarray", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 59, "char": 24 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 59, "char": 24 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 60, "char": 3 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 62, "char": 4 }, { "type": "if", "expr": { "type": "empty", "left": { "type": "variable", "value": "exclude", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 62, "char": 20 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 62, "char": 20 }, "statements": [ { "type": "return", "expr": { "type": "variable", "value": "query", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 63, "char": 16 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 64, "char": 3 } ], "elseif_statements": [ { "type": "if", "expr": { "type": "empty", "left": { "type": "variable", "value": "parent", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 65, "char": 23 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 65, "char": 23 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "exclude", "expr": { "type": "fcall", "name": "array_flip", "call-type": 1, "parameters": [ { "parameter": { "type": "variable", "value": "exclude", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 66, "char": 36 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 66, "char": 36 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 66, "char": 37 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 66, "char": 37 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 67, "char": 3 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 69, "char": 7 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 69, "char": 7 }, { "type": "declare", "data-type": "array", "variables": [ { "variable": "params", "expr": { "type": "empty-array", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 69, "char": 20 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 69, "char": 20 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 70, "char": 5 }, { "type": "for", "expr": { "type": "variable", "value": "query", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 70, "char": 27 }, "key": "key", "value": "value", "reverse": 0, "statements": [ { "type": "if", "expr": { "type": "empty", "left": { "type": "variable", "value": "parent", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 71, "char": 20 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 71, "char": 20 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "string_key", "expr": { "type": "concat", "left": { "type": "string", "value": "", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 72, "char": 25 }, "right": { "type": "variable", "value": "key", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 72, "char": 30 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 72, "char": 30 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 72, "char": 30 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 73, "char": 4 } ], "else_statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "string_key", "expr": { "type": "concat", "left": { "type": "concat", "left": { "type": "concat", "left": { "type": "variable", "value": "parent", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 74, "char": 29 }, "right": { "type": "string", "value": "[", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 74, "char": 35 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 74, "char": 35 }, "right": { "type": "variable", "value": "key", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 74, "char": 41 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 74, "char": 41 }, "right": { "type": "string", "value": "]", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 74, "char": 46 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 74, "char": 46 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 74, "char": 46 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 75, "char": 4 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 77, "char": 5 }, { "type": "if", "expr": { "type": "isset", "left": { "type": "array-access", "left": { "type": "variable", "value": "exclude", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 77, "char": 20 }, "right": { "type": "variable", "value": "string_key", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 77, "char": 31 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 77, "char": 33 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 77, "char": 33 }, "statements": [ { "type": "continue", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 79, "char": 4 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 81, "char": 5 }, { "type": "if", "expr": { "type": "fcall", "name": "is_array", "call-type": 1, "parameters": [ { "parameter": { "type": "variable", "value": "value", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 81, "char": 21 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 81, "char": 21 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 81, "char": 23 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "array-index", "operator": "assign", "variable": "params", "index-expr": [ { "type": "variable", "value": "key", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 82, "char": 19 } ], "expr": { "type": "scall", "dynamic-class": 0, "class": "self", "dynamic": 0, "name": "drupal_get_query_parameters", "parameters": [ { "parameter": { "type": "variable", "value": "value", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 82, "char": 62 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 82, "char": 62 }, { "parameter": { "type": "variable", "value": "exclude", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 82, "char": 71 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 82, "char": 71 }, { "parameter": { "type": "variable", "value": "string_key", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 82, "char": 83 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 82, "char": 83 }, { "parameter": { "type": "variable", "value": "getarray", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 82, "char": 93 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 82, "char": 93 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 82, "char": 94 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 82, "char": 94 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 83, "char": 4 } ], "else_statements": [ { "type": "let", "assignments": [ { "assign-type": "array-index", "operator": "assign", "variable": "params", "index-expr": [ { "type": "variable", "value": "key", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 85, "char": 19 } ], "expr": { "type": "variable", "value": "value", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 85, "char": 28 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 85, "char": 28 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 86, "char": 4 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 87, "char": 3 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 89, "char": 8 }, { "type": "return", "expr": { "type": "variable", "value": "params", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 89, "char": 16 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 90, "char": 2 } ], "docblock": "*\n\t * Around 30% faster than core\n\t *", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 52, "char": 29 }, { "visibility": [ "public", "static", "final" ], "type": "method", "name": "drupal_get_query_array", "parameters": [ { "type": "parameter", "name": "query", "const": 0, "data-type": "string", "mandatory": 0, "reference": 0, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 95, "char": 66 } ], "statements": [ { "type": "declare", "data-type": "array", "variables": [ { "variable": "result", "expr": { "type": "empty-array", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 96, "char": 20 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 96, "char": 20 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 97, "char": 5 }, { "type": "declare", "data-type": "variable", "variables": [ { "variable": "param", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 97, "char": 12 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 98, "char": 4 }, { "type": "if", "expr": { "type": "not", "left": { "type": "empty", "left": { "type": "variable", "value": "query", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 98, "char": 19 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 98, "char": 19 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 98, "char": 19 }, "statements": [ { "type": "for", "expr": { "type": "fcall", "name": "explode", "call-type": 1, "parameters": [ { "parameter": { "type": "string", "value": "&", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 99, "char": 28 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 99, "char": 28 }, { "parameter": { "type": "variable", "value": "query", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 99, "char": 35 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 99, "char": 35 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 99, "char": 37 }, "value": "param", "reverse": 0, "statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "param", "expr": { "type": "fcall", "name": "explode", "call-type": 1, "parameters": [ { "parameter": { "type": "string", "value": "=", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 100, "char": 28 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 100, "char": 28 }, { "parameter": { "type": "variable", "value": "param", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 100, "char": 35 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 100, "char": 35 }, { "parameter": { "type": "int", "value": "2", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 100, "char": 38 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 100, "char": 38 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 100, "char": 39 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 100, "char": 39 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 101, "char": 6 }, { "type": "if", "expr": { "type": "isset", "left": { "type": "array-access", "left": { "type": "variable", "value": "param", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 101, "char": 19 }, "right": { "type": "int", "value": "1", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 101, "char": 21 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 101, "char": 23 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 101, "char": 23 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "array-index", "operator": "assign", "variable": "result", "index-expr": [ { "type": "array-access", "left": { "type": "variable", "value": "param", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 102, "char": 22 }, "right": { "type": "int", "value": "0", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 102, "char": 24 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 102, "char": 25 } ], "expr": { "type": "fcall", "name": "rawurldecode", "call-type": 1, "parameters": [ { "parameter": { "type": "array-access", "left": { "type": "variable", "value": "param", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 102, "char": 47 }, "right": { "type": "int", "value": "1", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 102, "char": 49 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 102, "char": 50 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 102, "char": 50 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 102, "char": 51 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 102, "char": 51 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 103, "char": 5 } ], "else_statements": [ { "type": "let", "assignments": [ { "assign-type": "array-index", "operator": "assign", "variable": "result", "index-expr": [ { "type": "array-access", "left": { "type": "variable", "value": "param", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 105, "char": 22 }, "right": { "type": "int", "value": "0", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 105, "char": 24 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 105, "char": 25 } ], "expr": { "type": "string", "value": "", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 105, "char": 31 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 105, "char": 31 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 106, "char": 5 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 107, "char": 4 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 108, "char": 3 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 109, "char": 8 }, { "type": "return", "expr": { "type": "variable", "value": "result", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 109, "char": 16 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 110, "char": 2 } ], "docblock": "*\n\t * Around 35% faster than core\n\t *", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 95, "char": 29 }, { "visibility": [ "public", "static", "final" ], "type": "method", "name": "doExplode", "parameters": [ { "type": "parameter", "name": "delimiter", "const": 0, "data-type": "string", "mandatory": 0, "reference": 0, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 112, "char": 60 }, { "type": "parameter", "name": "realstring", "const": 0, "data-type": "string", "mandatory": 0, "reference": 0, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 112, "char": 79 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 112, "char": 32 }, { "visibility": [ "public", "static", "final" ], "type": "method", "name": "drupal_http_build_query", "parameters": [ { "type": "parameter", "name": "query", "const": 0, "data-type": "array", "mandatory": 0, "reference": 0, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 119, "char": 69 }, { "type": "parameter", "name": "parent", "const": 0, "data-type": "string", "mandatory": 0, "default": { "type": "string", "value": "", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 119, "char": 89 }, "reference": 0, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 119, "char": 89 } ], "statements": [ { "type": "declare", "data-type": "array", "variables": [ { "variable": "params", "expr": { "type": "empty-array", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 121, "char": 23 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 121, "char": 23 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 122, "char": 5 }, { "type": "declare", "data-type": "variable", "variables": [ { "variable": "key", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 122, "char": 10 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 123, "char": 5 }, { "type": "declare", "data-type": "variable", "variables": [ { "variable": "value", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 123, "char": 12 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 125, "char": 11 }, { "type": "for", "expr": { "type": "variable", "value": "query", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 125, "char": 33 }, "key": "key", "value": "value", "reverse": 0, "statements": [ { "type": "if", "expr": { "type": "variable", "value": "parent", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 126, "char": 20 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "key", "expr": { "type": "concat", "left": { "type": "concat", "left": { "type": "concat", "left": { "type": "variable", "value": "parent", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 127, "char": 28 }, "right": { "type": "string", "value": "[", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 127, "char": 34 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 127, "char": 34 }, "right": { "type": "fcall", "name": "rawurlencode", "call-type": 1, "parameters": [ { "parameter": { "type": "variable", "value": "key", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 127, "char": 52 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 127, "char": 52 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 127, "char": 54 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 127, "char": 54 }, "right": { "type": "string", "value": "]", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 127, "char": 59 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 127, "char": 59 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 127, "char": 59 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 128, "char": 10 } ], "else_statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "key", "expr": { "type": "fcall", "name": "rawurlencode", "call-type": 1, "parameters": [ { "parameter": { "type": "variable", "value": "key", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 129, "char": 37 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 129, "char": 37 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 129, "char": 38 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 129, "char": 38 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 130, "char": 10 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 132, "char": 11 }, { "type": "if", "expr": { "type": "fcall", "name": "is_array", "call-type": 1, "parameters": [ { "parameter": { "type": "variable", "value": "value", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 132, "char": 27 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 132, "char": 27 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 132, "char": 29 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "variable-append", "operator": "assign", "variable": "params", "expr": { "type": "scall", "dynamic-class": 0, "class": "self", "dynamic": 0, "name": "drupal_http_build_query", "parameters": [ { "parameter": { "type": "variable", "value": "value", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 133, "char": 61 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 133, "char": 61 }, { "parameter": { "type": "variable", "value": "key", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 133, "char": 66 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 133, "char": 66 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 133, "char": 67 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 133, "char": 67 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 134, "char": 10 } ], "elseif_statements": [ { "type": "if", "expr": { "type": "empty", "left": { "type": "variable", "value": "value", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 135, "char": 29 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 135, "char": 29 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "variable-append", "operator": "assign", "variable": "params", "expr": { "type": "variable", "value": "key", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 136, "char": 29 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 136, "char": 29 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 137, "char": 10 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 138, "char": 13 } ], "else_statements": [ { "type": "declare", "data-type": "string", "variables": [ { "variable": "start", "expr": { "type": "string", "value": "", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 139, "char": 28 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 139, "char": 28 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 140, "char": 13 }, { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "start", "expr": { "type": "concat", "left": { "type": "variable", "value": "key", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 140, "char": 27 }, "right": { "type": "string", "value": "=", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 140, "char": 32 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 140, "char": 32 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 140, "char": 32 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 141, "char": 13 }, { "type": "let", "assignments": [ { "assign-type": "variable-append", "operator": "assign", "variable": "params", "expr": { "type": "concat", "left": { "type": "variable", "value": "start", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 141, "char": 32 }, "right": { "type": "fcall", "name": "str_replace", "call-type": 1, "parameters": [ { "parameter": { "type": "string", "value": "%2F", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 141, "char": 51 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 141, "char": 51 }, { "parameter": { "type": "string", "value": "\/", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 141, "char": 56 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 141, "char": 56 }, { "parameter": { "type": "fcall", "name": "rawurlencode", "call-type": 1, "parameters": [ { "parameter": { "type": "variable", "value": "value", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 141, "char": 76 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 141, "char": 76 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 141, "char": 77 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 141, "char": 77 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 141, "char": 78 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 141, "char": 78 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 141, "char": 78 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 142, "char": 10 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 143, "char": 9 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 144, "char": 14 }, { "type": "return", "expr": { "type": "fcall", "name": "implode", "call-type": 1, "parameters": [ { "parameter": { "type": "string", "value": "&", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 144, "char": 27 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 144, "char": 27 }, { "parameter": { "type": "variable", "value": "params", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 144, "char": 35 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 144, "char": 35 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 144, "char": 36 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 145, "char": 5 } ], "docblock": "*\n\t * Around 35% faster than core\n\t *", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 119, "char": 32 }, { "visibility": [ "public", "static", "final" ], "type": "method", "name": "drupal_get_destination", "parameters": [ { "type": "parameter", "name": "destination", "const": 0, "data-type": "variable", "mandatory": 0, "reference": 0, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 150, "char": 72 } ], "statements": [ { "type": "declare", "data-type": "string", "variables": [ { "variable": "path", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 151, "char": 17 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 152, "char": 11 }, { "type": "declare", "data-type": "string", "variables": [ { "variable": "query", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 152, "char": 18 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 154, "char": 7 }, { "type": "if", "expr": { "type": "not", "left": { "type": "empty", "left": { "type": "variable", "value": "destination", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 154, "char": 28 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 154, "char": 28 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 154, "char": 28 }, "statements": [ { "type": "return", "expr": { "type": "variable", "value": "destination", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 155, "char": 25 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 156, "char": 6 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 158, "char": 7 }, { "type": "if", "expr": { "type": "fetch", "left": { "type": "variable", "value": "destination", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 158, "char": 48 }, "right": { "type": "array-access", "left": { "type": "variable", "value": "_GET", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 158, "char": 32 }, "right": { "type": "string", "value": "destination", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 158, "char": 46 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 158, "char": 48 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 158, "char": 48 }, "else_statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "path", "expr": { "type": "concat", "left": { "type": "string", "value": "", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 161, "char": 21 }, "right": { "type": "array-access", "left": { "type": "variable", "value": "_GET", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 161, "char": 27 }, "right": { "type": "string", "value": "q", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 161, "char": 31 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 161, "char": 32 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 161, "char": 32 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 161, "char": 32 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 162, "char": 9 }, { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "query", "expr": { "type": "concat", "left": { "type": "string", "value": "", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 162, "char": 22 }, "right": { "type": "scall", "dynamic-class": 0, "class": "self", "dynamic": 0, "name": "drupal_http_build_query", "parameters": [ { "parameter": { "type": "scall", "dynamic-class": 0, "class": "self", "dynamic": 0, "name": "drupal_get_query_parameters", "parameters": [ { "parameter": { "type": "null", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 162, "char": 92 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 162, "char": 92 }, { "parameter": { "type": "array", "left": [ { "value": { "type": "string", "value": "q", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 162, "char": 98 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 162, "char": 98 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 162, "char": 99 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 162, "char": 99 }, { "parameter": { "type": "string", "value": "", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 162, "char": 103 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 162, "char": 103 }, { "parameter": { "type": "variable", "value": "_GET", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 162, "char": 109 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 162, "char": 109 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 162, "char": 110 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 162, "char": 110 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 162, "char": 111 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 162, "char": 111 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 162, "char": 111 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 163, "char": 8 }, { "type": "if", "expr": { "type": "list", "left": { "type": "not-equals", "left": { "type": "variable", "value": "query", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 163, "char": 18 }, "right": { "type": "string", "value": "", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 163, "char": 22 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 163, "char": 22 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 163, "char": 24 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "concat-assign", "variable": "path", "expr": { "type": "concat", "left": { "type": "string", "value": "?", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 164, "char": 23 }, "right": { "type": "variable", "value": "query", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 164, "char": 30 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 164, "char": 30 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 164, "char": 30 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 165, "char": 7 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 166, "char": 9 }, { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "destination", "expr": { "type": "array", "left": [ { "key": { "type": "string", "value": "destination", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 166, "char": 39 }, "value": { "type": "variable", "value": "path", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 166, "char": 45 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 166, "char": 45 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 166, "char": 46 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 166, "char": 46 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 167, "char": 6 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 168, "char": 11 }, { "type": "return", "expr": { "type": "variable", "value": "destination", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 168, "char": 24 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 169, "char": 5 } ], "docblock": "*\n     * Around 100% slower than core, so not implemented :)\n     *", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 150, "char": 32 }, { "visibility": [ "public", "static", "final" ], "type": "method", "name": "drupal_parse_url", "parameters": [ { "type": "parameter", "name": "url", "const": 0, "data-type": "string", "mandatory": 0, "reference": 0, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 174, "char": 61 } ], "statements": [ { "type": "declare", "data-type": "array", "variables": [ { "variable": "queryoptions", "expr": { "type": "empty-array", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 175, "char": 29 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 175, "char": 29 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 176, "char": 10 }, { "type": "declare", "data-type": "array", "variables": [ { "variable": "options", "expr": { "type": "array", "left": [ { "key": { "type": "string", "value": "path", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 176, "char": 29 }, "value": { "type": "null", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 176, "char": 35 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 176, "char": 35 }, { "key": { "type": "string", "value": "fragment", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 176, "char": 47 }, "value": { "type": "string", "value": "", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 176, "char": 51 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 176, "char": 51 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 176, "char": 52 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 176, "char": 52 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 177, "char": 8 }, { "type": "declare", "data-type": "variable", "variables": [ { "variable": "parts", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 177, "char": 15 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 178, "char": 8 }, { "type": "declare", "data-type": "variable", "variables": [ { "variable": "queryparts", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 178, "char": 20 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 179, "char": 8 }, { "type": "declare", "data-type": "variable", "variables": [ { "variable": "fragment", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 179, "char": 18 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 181, "char": 7 }, { "type": "if", "expr": { "type": "not-identical", "left": { "type": "fcall", "name": "strpos", "call-type": 1, "parameters": [ { "parameter": { "type": "variable", "value": "url", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 181, "char": 19 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 181, "char": 19 }, { "parameter": { "type": "string", "value": ":\/\/", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 181, "char": 26 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 181, "char": 26 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 181, "char": 30 }, "right": { "type": "bool", "value": "false", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 181, "char": 38 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 181, "char": 38 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "parts", "expr": { "type": "fcall", "name": "explode", "call-type": 1, "parameters": [ { "parameter": { "type": "string", "value": "?", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 182, "char": 30 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 182, "char": 30 }, { "parameter": { "type": "variable", "value": "url", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 182, "char": 35 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 182, "char": 35 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 182, "char": 36 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 182, "char": 36 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 183, "char": 9 }, { "type": "let", "assignments": [ { "assign-type": "array-index", "operator": "assign", "variable": "options", "index-expr": [ { "type": "string", "value": "path", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 183, "char": 25 } ], "expr": { "type": "array-access", "left": { "type": "variable", "value": "parts", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 183, "char": 34 }, "right": { "type": "int", "value": "0", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 183, "char": 36 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 183, "char": 37 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 183, "char": 37 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 185, "char": 8 }, { "type": "if", "expr": { "type": "isset", "left": { "type": "array-access", "left": { "type": "variable", "value": "parts", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 185, "char": 21 }, "right": { "type": "int", "value": "1", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 185, "char": 23 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 185, "char": 25 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 185, "char": 25 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "queryparts", "expr": { "type": "fcall", "name": "explode", "call-type": 1, "parameters": [ { "parameter": { "type": "string", "value": "#", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 186, "char": 36 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 186, "char": 36 }, { "parameter": { "type": "array-access", "left": { "type": "variable", "value": "parts", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 186, "char": 43 }, "right": { "type": "int", "value": "1", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 186, "char": 45 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 186, "char": 46 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 186, "char": 46 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 186, "char": 47 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 186, "char": 47 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 187, "char": 16 }, { "type": "fcall", "expr": { "type": "fcall", "name": "parse_str", "call-type": 1, "parameters": [ { "parameter": { "type": "array-access", "left": { "type": "variable", "value": "queryparts", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 187, "char": 28 }, "right": { "type": "int", "value": "0", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 187, "char": 30 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 187, "char": 31 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 187, "char": 31 }, { "parameter": { "type": "variable", "value": "queryoptions", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 187, "char": 45 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 187, "char": 45 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 187, "char": 46 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 189, "char": 9 }, { "type": "if", "expr": { "type": "isset", "left": { "type": "array-access", "left": { "type": "variable", "value": "queryparts", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 189, "char": 27 }, "right": { "type": "int", "value": "1", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 189, "char": 29 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 189, "char": 31 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 189, "char": 31 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "array-index", "operator": "assign", "variable": "options", "index-expr": [ { "type": "string", "value": "fragment", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 190, "char": 31 } ], "expr": { "type": "array-access", "left": { "type": "variable", "value": "queryparts", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 190, "char": 45 }, "right": { "type": "int", "value": "1", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 190, "char": 47 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 190, "char": 48 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 190, "char": 48 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 191, "char": 8 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 192, "char": 7 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 193, "char": 6 } ], "else_statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "parts", "expr": { "type": "fcall", "name": "parse_url", "call-type": 1, "parameters": [ { "parameter": { "type": "concat", "left": { "type": "string", "value": "http:\/\/example.com\/", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 195, "char": 51 }, "right": { "type": "variable", "value": "url", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 195, "char": 56 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 195, "char": 56 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 195, "char": 56 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 195, "char": 57 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 195, "char": 57 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 196, "char": 9 }, { "type": "let", "assignments": [ { "assign-type": "array-index", "operator": "assign", "variable": "options", "index-expr": [ { "type": "string", "value": "path", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 196, "char": 25 } ], "expr": { "type": "fcall", "name": "substr", "call-type": 1, "parameters": [ { "parameter": { "type": "array-access", "left": { "type": "variable", "value": "parts", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 196, "char": 41 }, "right": { "type": "string", "value": "path", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 196, "char": 48 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 196, "char": 49 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 196, "char": 49 }, { "parameter": { "type": "int", "value": "1", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 196, "char": 52 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 196, "char": 52 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 196, "char": 53 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 196, "char": 53 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 197, "char": 8 }, { "type": "if", "expr": { "type": "isset", "left": { "type": "array-access", "left": { "type": "variable", "value": "parts", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 197, "char": 21 }, "right": { "type": "string", "value": "query", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 197, "char": 29 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 197, "char": 31 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 197, "char": 31 }, "statements": [ { "type": "fcall", "expr": { "type": "fcall", "name": "parse_str", "call-type": 1, "parameters": [ { "parameter": { "type": "array-access", "left": { "type": "variable", "value": "parts", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 198, "char": 23 }, "right": { "type": "string", "value": "query", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 198, "char": 31 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 198, "char": 32 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 198, "char": 32 }, { "parameter": { "type": "variable", "value": "queryoptions", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 198, "char": 46 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 198, "char": 46 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 198, "char": 47 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 199, "char": 7 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 201, "char": 8 }, { "type": "if", "expr": { "type": "fetch", "left": { "type": "variable", "value": "fragment", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 201, "char": 44 }, "right": { "type": "array-access", "left": { "type": "variable", "value": "parts", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 201, "char": 31 }, "right": { "type": "string", "value": "fragment", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 201, "char": 42 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 201, "char": 44 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 201, "char": 44 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "array-index", "operator": "assign", "variable": "options", "index-expr": [ { "type": "string", "value": "fragment", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 202, "char": 30 } ], "expr": { "type": "variable", "value": "fragment", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 202, "char": 42 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 202, "char": 42 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 203, "char": 7 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 204, "char": 6 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 205, "char": 8 }, { "type": "let", "assignments": [ { "assign-type": "array-index", "operator": "assign", "variable": "options", "index-expr": [ { "type": "string", "value": "query", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 205, "char": 25 } ], "expr": { "type": "variable", "value": "queryoptions", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 205, "char": 41 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 205, "char": 41 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 207, "char": 7 }, { "type": "if", "expr": { "type": "isset", "left": { "type": "array-access", "left": { "type": "array-access", "left": { "type": "variable", "value": "options", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 207, "char": 22 }, "right": { "type": "string", "value": "query", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 207, "char": 30 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 207, "char": 31 }, "right": { "type": "string", "value": "q", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 207, "char": 35 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 207, "char": 37 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 207, "char": 37 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "array-index", "operator": "assign", "variable": "options", "index-expr": [ { "type": "string", "value": "path", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 208, "char": 25 } ], "expr": { "type": "array-access", "left": { "type": "array-access", "left": { "type": "variable", "value": "options", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 208, "char": 36 }, "right": { "type": "string", "value": "query", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 208, "char": 44 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 208, "char": 45 }, "right": { "type": "string", "value": "q", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 208, "char": 49 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 208, "char": 50 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 208, "char": 50 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 209, "char": 11 }, { "type": "unset", "expr": { "type": "list", "left": { "type": "array-access", "left": { "type": "array-access", "left": { "type": "variable", "value": "options", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 209, "char": 20 }, "right": { "type": "string", "value": "query", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 209, "char": 28 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 209, "char": 29 }, "right": { "type": "string", "value": "q", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 209, "char": 33 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 209, "char": 34 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 209, "char": 35 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 210, "char": 6 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 212, "char": 11 }, { "type": "return", "expr": { "type": "variable", "value": "options", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 212, "char": 20 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 213, "char": 5 } ], "docblock": "*\n\t * Around 25% faster than core\n\t *", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 174, "char": 32 }, { "visibility": [ "public", "static", "final" ], "type": "method", "name": "drupal_goto", "parameters": [ { "type": "parameter", "name": "path", "const": 0, "data-type": "string", "mandatory": 0, "default": { "type": "string", "value": "", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 220, "char": 62 }, "reference": 0, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 220, "char": 62 }, { "type": "parameter", "name": "options", "const": 0, "data-type": "array", "mandatory": 0, "default": { "type": "empty-array", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 220, "char": 82 }, "reference": 0, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 220, "char": 82 }, { "type": "parameter", "name": "http_response_code", "const": 0, "data-type": "int", "mandatory": 0, "default": { "type": "int", "value": "302", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 220, "char": 112 }, "reference": 0, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 220, "char": 112 } ], "docblock": "*\n\t * Around 100% slower than core, so not implemented\n\t *", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 220, "char": 32 }, { "visibility": [ "public", "static", "final" ], "type": "method", "name": "drupal_strip_dangerous_protocols", "parameters": [ { "type": "parameter", "name": "uri", "const": 0, "data-type": "string", "mandatory": 0, "reference": 0, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 253, "char": 77 }, { "type": "parameter", "name": "allowed_protocols", "const": 0, "data-type": "variable", "mandatory": 0, "default": { "type": "empty-array", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 253, "char": 105 }, "reference": 0, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 253, "char": 105 } ], "statements": [ { "type": "declare", "data-type": "string", "variables": [ { "variable": "tempuri", "expr": { "type": "string", "value": "", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 254, "char": 25 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 254, "char": 25 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 255, "char": 14 }, { "type": "declare", "data-type": "string", "variables": [ { "variable": "returnuri", "expr": { "type": "string", "value": "", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 255, "char": 30 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 255, "char": 30 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 256, "char": 12 }, { "type": "declare", "data-type": "char", "variables": [ { "variable": "ch", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 256, "char": 16 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 257, "char": 15 }, { "type": "declare", "data-type": "bool", "variables": [ { "variable": "foundcolon", "expr": { "type": "bool", "value": "false", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 257, "char": 35 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 257, "char": 35 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 258, "char": 15 }, { "type": "declare", "data-type": "bool", "variables": [ { "variable": "allok", "expr": { "type": "bool", "value": "false", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 258, "char": 30 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 258, "char": 30 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 260, "char": 11 }, { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "uri", "expr": { "type": "fcall", "name": "strtolower", "call-type": 1, "parameters": [ { "parameter": { "type": "variable", "value": "uri", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 260, "char": 33 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 260, "char": 33 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 260, "char": 34 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 260, "char": 34 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 262, "char": 11 }, { "type": "for", "expr": { "type": "variable", "value": "uri", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 262, "char": 23 }, "value": "ch", "reverse": 0, "statements": [ { "type": "if", "expr": { "type": "variable", "value": "allok", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 263, "char": 22 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "concat-assign", "variable": "returnuri", "expr": { "type": "variable", "value": "ch", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 264, "char": 36 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 264, "char": 36 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 265, "char": 13 } ], "elseif_statements": [ { "type": "if", "expr": { "type": "or", "left": { "type": "or", "left": { "type": "equals", "left": { "type": "variable", "value": "ch", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 266, "char": 24 }, "right": { "type": "char", "value": "?", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 266, "char": 31 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 266, "char": 31 }, "right": { "type": "equals", "left": { "type": "variable", "value": "ch", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 266, "char": 37 }, "right": { "type": "char", "value": "#", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 266, "char": 44 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 266, "char": 44 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 266, "char": 44 }, "right": { "type": "equals", "left": { "type": "variable", "value": "ch", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 266, "char": 50 }, "right": { "type": "char", "value": "\/", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 266, "char": 56 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 266, "char": 56 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 266, "char": 56 }, "statements": [ { "type": "if", "expr": { "type": "equals", "left": { "type": "variable", "value": "foundcolon", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 267, "char": 32 }, "right": { "type": "bool", "value": "true", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 267, "char": 39 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 267, "char": 39 }, "statements": [ { "type": "if", "expr": { "type": "isset", "left": { "type": "array-access", "left": { "type": "variable", "value": "allowed_protocols", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 268, "char": 47 }, "right": { "type": "variable", "value": "tempuri", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 268, "char": 55 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 268, "char": 57 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 268, "char": 57 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "concat-assign", "variable": "returnuri", "expr": { "type": "concat", "left": { "type": "variable", "value": "tempuri", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 269, "char": 49 }, "right": { "type": "string", "value": ":", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 269, "char": 54 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 269, "char": 54 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 269, "char": 54 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 270, "char": 27 }, { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "tempuri", "expr": { "type": "string", "value": "", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 270, "char": 41 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 270, "char": 41 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 271, "char": 21 } ], "else_statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "tempuri", "expr": { "type": "string", "value": "", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 272, "char": 41 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 272, "char": 41 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 273, "char": 21 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 274, "char": 23 }, { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "foundcolon", "expr": { "type": "bool", "value": "false", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 274, "char": 43 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 274, "char": 43 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 275, "char": 17 } ], "else_statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "allok", "expr": { "type": "bool", "value": "true", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 276, "char": 37 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 276, "char": 37 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 277, "char": 17 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 278, "char": 19 }, { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "concat-assign", "variable": "returnuri", "expr": { "type": "variable", "value": "ch", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 278, "char": 35 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 278, "char": 35 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 279, "char": 13 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 280, "char": 18 }, { "type": "if", "expr": { "type": "not-equals", "left": { "type": "variable", "value": "ch", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 280, "char": 24 }, "right": { "type": "char", "value": ":", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 280, "char": 30 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 280, "char": 30 }, "statements": [ { "type": "if", "expr": { "type": "equals", "left": { "type": "variable", "value": "foundcolon", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 281, "char": 32 }, "right": { "type": "bool", "value": "true", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 281, "char": 39 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 281, "char": 39 }, "statements": [ { "type": "if", "expr": { "type": "not", "left": { "type": "isset", "left": { "type": "array-access", "left": { "type": "variable", "value": "allowed_protocols", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 282, "char": 48 }, "right": { "type": "variable", "value": "tempuri", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 282, "char": 56 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 282, "char": 58 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 282, "char": 58 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 282, "char": 58 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "tempuri", "expr": { "type": "string", "value": "", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 283, "char": 41 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 283, "char": 41 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 284, "char": 21 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 285, "char": 23 }, { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "foundcolon", "expr": { "type": "bool", "value": "false", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 285, "char": 43 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 285, "char": 43 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 286, "char": 17 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 287, "char": 19 }, { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "concat-assign", "variable": "tempuri", "expr": { "type": "variable", "value": "ch", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 287, "char": 33 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 287, "char": 33 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 288, "char": 13 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 289, "char": 16 } ], "else_statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "foundcolon", "expr": { "type": "bool", "value": "true", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 290, "char": 38 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 290, "char": 38 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 291, "char": 13 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 292, "char": 9 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 293, "char": 11 }, { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "concat-assign", "variable": "returnuri", "expr": { "type": "variable", "value": "tempuri", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 293, "char": 32 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 293, "char": 32 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 294, "char": 14 }, { "type": "return", "expr": { "type": "variable", "value": "returnuri", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 294, "char": 25 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 316, "char": 5 } ], "docblock": "*\n     * Around 15% slower, so not implemented;\n     *", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 253, "char": 32 }, { "visibility": [ "public", "static" ], "type": "method", "name": "drupal_attributes", "parameters": [ { "type": "parameter", "name": "attributes", "const": 0, "data-type": "array", "mandatory": 0, "reference": 0, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 325, "char": 62 } ], "statements": [ { "type": "declare", "data-type": "variable", "variables": [ { "variable": "attribute", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 326, "char": 22 }, { "variable": "data", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 326, "char": 28 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 328, "char": 11 }, { "type": "for", "expr": { "type": "variable", "value": "attributes", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 328, "char": 43 }, "key": "attribute", "value": "data", "reverse": 0, "statements": [ { "type": "if", "expr": { "type": "equals", "left": { "type": "typeof", "left": { "type": "variable", "value": "data", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 329, "char": 29 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 329, "char": 29 }, "right": { "type": "string", "value": "array", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 329, "char": 39 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 329, "char": 39 }, "statements": [ { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "data", "expr": { "type": "fcall", "name": "join", "call-type": 1, "parameters": [ { "parameter": { "type": "string", "value": " ", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 330, "char": 36 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 330, "char": 36 }, { "parameter": { "type": "variable", "value": "data", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 330, "char": 42 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 330, "char": 42 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 330, "char": 43 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 330, "char": 43 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 331, "char": 13 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 332, "char": 15 }, { "type": "let", "assignments": [ { "assign-type": "variable", "operator": "assign", "variable": "data", "expr": { "type": "concat", "left": { "type": "concat", "left": { "type": "concat", "left": { "type": "variable", "value": "attribute", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 332, "char": 34 }, "right": { "type": "string", "value": "=\\\"", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 332, "char": 42 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 332, "char": 42 }, "right": { "type": "scall", "dynamic-class": 0, "class": "Bootstrap", "dynamic": 0, "name": "check_plain", "parameters": [ { "parameter": { "type": "variable", "value": "data", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 332, "char": 71 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 332, "char": 71 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 332, "char": 73 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 332, "char": 73 }, "right": { "type": "string", "value": "\\\"", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 332, "char": 79 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 332, "char": 79 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 332, "char": 79 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 333, "char": 15 }, { "type": "let", "assignments": [ { "assign-type": "array-index", "operator": "assign", "variable": "attributes", "index-expr": [ { "type": "variable", "value": "attribute", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 333, "char": 37 } ], "expr": { "type": "variable", "value": "data", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 333, "char": 45 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 333, "char": 45 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 334, "char": 9 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 336, "char": 10 }, { "type": "if", "expr": { "type": "equals", "left": { "type": "typeof", "left": { "type": "variable", "value": "attributes", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 336, "char": 31 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 336, "char": 31 }, "right": { "type": "string", "value": "array", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 336, "char": 41 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 336, "char": 41 }, "statements": [ { "type": "return", "expr": { "type": "concat", "left": { "type": "string", "value": " ", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 337, "char": 24 }, "right": { "type": "fcall", "name": "join", "call-type": 1, "parameters": [ { "parameter": { "type": "string", "value": " ", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 337, "char": 34 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 337, "char": 34 }, { "parameter": { "type": "variable", "value": "attributes", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 337, "char": 46 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 337, "char": 46 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 337, "char": 47 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 337, "char": 47 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 338, "char": 9 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 339, "char": 14 }, { "type": "return", "expr": { "type": "string", "value": "", "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 339, "char": 18 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 340, "char": 5 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 325, "char": 26 } ], "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 3, "char": 11 }, "file": "\/var\/extensions\/drupal\/drupal\/common.zep", "line": 3, "char": 11 } ]
